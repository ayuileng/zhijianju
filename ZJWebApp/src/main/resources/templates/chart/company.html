<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org"
      xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout">
<head>
    <meta charset="UTF-8"/>
    <title>企业所属省份统计图</title>
    <link rel="stylesheet" href="https://cdn.bootcss.com/bootstrap/3.3.7/css/bootstrap.min.css"
          integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous"/>
    <style type="text/css">
        .wrapper {
            margin-top: 60px;
        }
    </style>

</head>
<body>
<div th:replace="fragments/header :: header"></div>

<div class="wrapper">
    <div id="main1" style="width: 80%;height:600px;"></div>
</div>
<script src="http://echarts.baidu.com/build/dist/echarts-all.js"></script>
<div th:replace="fragments/footer :: footer">...</div>
</body>

<script type="text/javascript" th:inline="javascript">
    var myChart1 = echarts.init(document.getElementById('main1'));
    var option1 = {
        title: {
            text: '各省份企业分布图',
            x: 'center'
        },
        tooltip: {
            trigger: 'item'
        },
        legend: {
            orient: 'vertical',
            x: 'left',
            data: ['企业数目']
        },
        dataRange: {
            min: 0,
            max: [[${max}]],
            x: 'left',
            y: 'bottom',
            color:['red','pink'],
            text: ['多', '少'],
            calculable: true
        },
        // toolbox: {
        //     show: true,
        //     orient: 'vertical',
        //     x: 'right',
        //     y: 'center',
        //     feature: {
        //         mark: {show: true},
        //         dataView: {show: true, readOnly: false},
        //         restore: {show: true},
        //         saveAsImage: {show: true}
        //     }
        // },
        roamController: {
            show: true,
            x: 'right',
            mapTypeControl: {
                'china': true
            }
        },
        series: [
            {
                name: '企业数',
                type: 'map',
                mapType: 'china',
                roam: false,
                itemStyle: {
                    normal: {label: {show: true}},
                    emphasis: {label: {show: true}}
                },
                data: [
                    {name: '北京', value: [[${provs.get("北京市")}]]},
                    {name: '天津', value: [[${provs.get("天津市")}]]},
                    {name: '上海', value: [[${provs.get("上海市")}]]},
                    {name: '重庆', value: [[${provs.get("重庆市")}]]},
                    {name: '河北', value: [[${provs.get("河北省")}]]},
                    {name: '河南', value: [[${provs.get("河南省")}]]},
                    {name: '云南', value: [[${provs.get("云南省")}]]},
                    {name: '辽宁', value: [[${provs.get("辽宁省")}]]},
                    {name: '黑龙江', value: [[${provs.get("黑龙江省")}]]},
                    {name: '湖南', value: [[${provs.get("湖南省")}]]},
                    {name: '安徽', value: [[${provs.get("安徽省")}]]},
                    {name: '山东', value: [[${provs.get("山东省")}]]},
                    {name: '新疆', value: [[${provs.get("新疆维吾尔自治区")}]]},
                    {name: '江苏', value: [[${provs.get("江苏省")}]]},
                    {name: '浙江', value: [[${provs.get("浙江省")}]]},
                    {name: '江西', value: [[${provs.get("江西省")}]]},
                    {name: '湖北', value: [[${provs.get("湖北省")}]]},
                    {name: '广西', value: [[${provs.get("广西壮族自治区")}]]},
                    {name: '甘肃', value: [[${provs.get("甘肃省")}]]},
                    {name: '山西', value: [[${provs.get("山西省")}]]},
                    {name: '内蒙古', value: [[${provs.get("内蒙古自治区")}]]},
                    {name: '陕西', value: [[${provs.get("陕西省")}]]},
                    {name: '吉林', value: [[${provs.get("吉林省")}]]},
                    {name: '福建', value: [[${provs.get("福建省")}]]},
                    {name: '贵州', value: [[${provs.get("贵州省")}]]},
                    {name: '广东', value: [[${provs.get("广东省")}]]},
                    {name: '青海', value: [[${provs.get("青海省")}]]},
                    {name: '西藏', value: [[${provs.get("西藏")}]]},
                    {name: '四川', value: [[${provs.get("四川省")}]]},
                    {name: '宁夏', value: [[${provs.get("宁夏回族自治区")}]]},
                    {name: '海南', value: [[${provs.get("海南省")}]]},

                ]
            },

        ]
    };

    myChart1.setOption(option1);
    myChart1.on('click', function (params) {
        window.open('/chart/comProv?pro=' + encodeURIComponent(params.name));
    });

</script>
</html>